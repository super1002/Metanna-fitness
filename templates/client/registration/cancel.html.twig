{% extends "base.html.twig" %}
{% block stylesheets %}
	{{parent()}}
	<style>
		body {
			overflow: hidden;
		}
		input[type="text"],
		select {
			outline: none;
		}
		input {
			padding: 0;
			border-radius: 0;
			border: none;
			font-size: 20px;
			color: #bbb;
			background: none;
			letter-spacing: 1px;
			word-spacing: 10px;
			font-family: 'Arvo', sans-serif;
			width: 80%;
		}
		.form {
			border: 3px solid #b8b204;
		}
		.glyphicon {
			color: #b8b204;
			font-size: 20px;
			line-height: 25px;
			position: relative;
			right: -15%;
			cursor: pointer;
		}


		/** For table*/
		th {
			color: #000;
			text-align: center;
		}
		td,
		th {
			text-align: center !important;
			vertical-align: unset !important;
		}

		.table-responsive {
			height: 75vh;
			overflow-y: auto;
			width: 100%;
			background-color: #fff;
		}
		thead tr:nth-child(1) th {
			background: #fff;
			position: sticky;
			top: -5px;
			border: 3px solid #000;
			/* z-index: 0; */
		}

		.profil {
			width: 100px;
			height: 100px;
			border-radius: 10px
		}
	</style>
{% endblock %}
{% block body %}
	{% form_theme form 'form_div_layout.html.twig' %}
	<div id="wrapper">
		{% include "layouts/partials/_sidebar.html.twig" %}
		<!-- Content Wrapper -->
		<div
			id="content-wrapper" class="d-flex flex-column">
			<!-- Main Content -->
			<div id="content" class="content">

				{% include "layouts/partials/_nav.html.twig" %}

				<div class="row">
					<div class="col-sm-5 mx-auto">
						<div
							class="bg-dark p-1 rounded shadow">

							<!-- Underlined search bars with buttons -->
							<div class="form">
								{{form_start(form,{
									'attr' : {
										'id':'form'
									}
									}
								)}}
								{{form_widget(form.clientCode)}}
								<span class="glyphicon glyphicon-search col-xs-1 p-0" data-toggle="tooltip" title="Search" onclick="document.getElementById('form').submit()">
									<i class="fas fa-search"></i>
								</span>
								{{form_end(form)}}
							</div>
						</div>
					</div>
				</div>
				{% if client is not empty %}
					<div class="mt-5 container">
						<table class="table table-fixed table-hover">
							<thead>
								<tr>
									<th scope="col">Code client</th>
									<th scope="col">Nom</th>
									<th scope="col">Prénom(s)</th>
									<th scope="col">Téléphone</th>
									<th scope="col">Email</th>
									<th scope="col">Date de Naissance</th>
									<th scope="col">Date d'inscription</th>
									<th scope="col">Montant</th>
								</tr>
							</thead>

							<tbody>
								<tr>
									<th scope="row">{{client.id}}</th>
									<td>{{client.nom}}</td>
									<td>{{client.prenom}}</td>
									<td>{{client.telephone}}</td>
									<td></td>
									<td>{{client.dateNaissance|localizeddate('long', 'none', 'fr')}}</td>
									<td>{{client.myRegistration.dateOfRegistration|localizeddate('long', 'none', 'fr')}}</td>
									<td class="td">{{client.myRegistration.amountOfRegistration ~ ' FCFA'}}</td>
								</tr>
							</tbody>
						</table>
						<div class="text-center mt-5">
							<button class="btn btn-danger btn-block col-3" data-bs-toggle="modal" data-bs-target="#cancelModal">Résilier</button>
						</div>
					</div>

					<!-- Modal -->
					<div class="modal fade" id="cancelModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="exampleModalLabel">Résiliation de l'inscription</h5>
									<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body text-dark">
									<p>Vous êtes sur le point de
										<b>mettre fin</b>
										à l'inscription de M | Mme
										{{client.nom}}
										{{client.prenom}}!!</p>
								</div>
								<div class="modal-footer justify-content-center">
									<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
									<a href="{{path("app_client_registration_cancel",{id:client.id})}}" class="btn btn-danger">Résilier</a>
								</div>
							</div>
						</div>
					</div>
				{% endif %}
			</div>
		</div>
	</div>

	<!-- Button trigger modal -->

{% endblock %}
