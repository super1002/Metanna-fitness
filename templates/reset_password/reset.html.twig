<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="author" content="Jonathan Assamagan">

		<link rel="apple-touch-icon" sizes="57x57" href="{{ asset('img/favicon/apple-icon-57x57.png')}}">
		<link rel="apple-touch-icon" sizes="60x60" href="{{ asset('img/favicon/apple-icon-60x60.png')}}">
		<link rel="apple-touch-icon" sizes="72x72" href="{{ asset('img/favicon/apple-icon-72x72.png')}}">
		<link rel="apple-touch-icon" sizes="76x76" href="{{ asset('img/favicon/apple-icon-76x76.png')}}">
		<link rel="apple-touch-icon" sizes="114x114" href="{{ asset('img/favicon/apple-icon-114x114.png')}}">
		<link rel="apple-touch-icon" sizes="120x120" href="{{ asset('img/favicon/apple-icon-120x120.png')}}">
		<link rel="apple-touch-icon" sizes="144x144" href="{{ asset('img/favicon/apple-icon-144x144.png')}}">
		<link rel="apple-touch-icon" sizes="152x152" href="{{ asset('img/favicon/apple-icon-152x152.png')}}">
		<link rel="apple-touch-icon" sizes="180x180" href="{{ asset('img/favicon/apple-icon-180x180.png')}}">
		<link rel="icon" type="image/png" sizes="192x192" href="{{ asset('img/favicon/android-icon-192x192.png')}}">
		<link rel="icon" type="image/png" sizes="32x32" href="{{ asset('img/favicon/favicon-32x32.png')}}">
		<link rel="icon" type="image/png" sizes="96x96" href="{{ asset('img/favicon/favicon-96x96.png')}}">
		<link rel="icon" type="image/png" sizes="16x16" href="{{ asset('img/favicon/favicon-16x16.png')}}">
		<link rel="manifest" href="{{ asset('img/favicon/manifest.json')}}">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="msapplication-TileImage" content="{{ asset('img/favicon/ms-icon-144x144.png')}}">
		<meta name="theme-color" content="#ffffff">

		<link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700' rel='stylesheet'>
		<title>
			{% block title %}Réinitialiser le mot de passe
			{% endblock %}
		</title>

		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}

			<style>
				button[type="submit"] {
					border: 1px solid var(--main-color);
					color: #000
				}
				button[type="submit"]:hover {
					color: var(--main-color)
				}
				body {
					overflow: hidden;
				}
				.far {
					float: right;
					position: relative;
					top: -26px;
					right: 11px;
					cursor: pointer;
				}
			</style>
		{% endblock %}


		{% block body %}

			{{ form_start(resetForm) }}
			<div
				class="container" style="margin-top: 10%">

				<!-- Outer Row -->
				<div class="row justify-content-center">

					<div class="col-xl-7">

						<div class="border-0 shadow-lg my-5">
							<div class=" p-0">

								<div class="p-5">
									<div class="text-center">
										<h1 class="h4 text-gray-900 mb-4">Réinitialiser le mot de passe</h1>
									</div>
									<div class="form-group">
										{{ form_label(resetForm.plainPassword.first) }}
										{{ form_widget(resetForm.plainPassword.first) }}
										<i class="far fa-eye" id="togglePassword"></i>
									</div>
									<div class="form-group">
										{{ form_label(resetForm.plainPassword.second) }}
										{{ form_widget(resetForm.plainPassword.second) }}
										<i class="far fa-eye" id="toggleRepeatedPassword"></i>
									</div>
									<div class="d-grid gap-2 col-6 mx-auto mt-5">
										<button class="btn" type="submit">
											Réinitialiser
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			{{ form_end(resetForm) }}

			<script>
				const togglePassword = document.querySelector("#togglePassword");
const password = document.querySelector("#change_password_form_plainPassword_first");

const toggleRepeatedPassword = document.querySelector("#toggleRepeatedPassword");
const passwordRepeated = document.querySelector("#change_password_form_plainPassword_second");

togglePassword.addEventListener('click', function (e) {
const type = password.getAttribute('type') === 'password' ? 'text' : 'password';

const classEye = togglePassword.classList.contains('fa-eye');
toggleEye(classEye, togglePassword);
password.setAttribute('type', type);
});

toggleRepeatedPassword.addEventListener('click', function (e) {
const type = passwordRepeated.getAttribute('type') === 'password' ? 'text' : 'password';

const classEye = toggleRepeatedPassword.classList.contains('fa-eye');
toggleEye(classEye, toggleRepeatedPassword);
passwordRepeated.setAttribute('type', type);
});

function toggleEye(isOpen, togglePassword) {
if (isOpen) {
togglePassword.classList.remove('fa-eye');
togglePassword.classList.add('fa-eye-slash');
} else {
togglePassword.classList.remove('fa-eye-slash');
togglePassword.classList.add('fa-eye');
}
console.log(isOpen);
}
			</script>
		{% endblock %}
	</head>
</html>
